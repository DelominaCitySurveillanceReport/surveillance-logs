<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Delomina City Surveillance Archive</title>
  <style>
    body {
      background: linear-gradient(180deg, #030305 0%, #071018 100%);
      color: #cfe8df;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      padding: 28px;
    }
    .term {
      background:#02030a;
      border:1px solid rgba(127,255,200,0.06);
      padding:18px;
      border-radius:8px;
      max-width:880px;
      margin:0 auto;
      box-shadow:0 8px 40px rgba(0,0,0,0.6);
    }
    h2 { color:#7be3b2; margin-top:0; }
    ul { list-style-type:none; padding-left:0; }
    li { margin-bottom:6px; }
    a { color:#7be3b2; text-decoration:none; }
    a:hover { text-decoration:underline; }
    #lockedNote { color:#999; }
    button {
      background:#073; color:#000; border:0; border-radius:6px;
      padding:8px 12px; cursor:pointer; font-weight:bold;
    }
  </style>
</head>
<body>
  <div class="term">
    <h2>Delomina City Surveillance Archive</h2>

    <div id="locked">
      <p>ACCESS LOCKED — breach token required.</p>
      <p><a href="hack.html" style="color:#7be3b2;">Launch Breach Utility</a></p>
    </div>

    <div id="unlocked" style="display:none;">
      <p id="lockedNote">Archive partially restricted. Use the <a href="verify.html">Verification Console</a> to unlock classified files.</p>
      <ul id="fileList">
        <li><a href="logs/nv-13_field_report.html">[NV-13] Field Report</a></li>
        <li><a href="logs/bw-05_visual_report.html">[BW-05] Visual Report</a></li>
      </ul>
      <p><button id="clearToken" style="display:none;">Clear access data</button></p>
    </div>
  </div>

  <script>
  const FILES = {
  alex:   { label: "[CD-11] Subject File — Access Granted", href: "logs/cd-11_file.html" },
  dennis: { label: "[GC-06] Subject File — Access Granted", href: "logs/gc-06_record.html" },
  ivan:   { label: "[NT-07] Subject File — Access Granted", href: "logs/nt-07_file.html" },
  remy: { label: "[WC-04] Subject File — Access Granted", href: "logs/wc-04_file.html" }

};

  function renderUnlocked(){
    const list = document.getElementById('fileList');
    const unlocked = JSON.parse(localStorage.getItem('delomina_unlocked') || "[]");
    const clearBtn = document.getElementById('clearToken');
    if(unlocked.length > 0) clearBtn.style.display = 'inline-block';

    unlocked.forEach(key=>{
      if(FILES[key]){
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = FILES[key].href;
        a.textContent = FILES[key].label;
        li.appendChild(a);
        list.appendChild(li);
      }
    });
  }

  document.getElementById('clearToken').addEventListener('click', ()=>{
    if(confirm("Clear all stored unlocks and access token?")){
      localStorage.removeItem('delomina_unlocked');
      localStorage.removeItem('delomina_archive_token');
      location.reload();
    }
  });

  // Token gate
  window.addEventListener('load', ()=>{
    const token = localStorage.getItem('delomina_archive_token');
    const locked = document.getElementById('locked');
    const unlocked = document.getElementById('unlocked');

    if(token === 'unlocked'){
      locked.style.display = 'none';
      unlocked.style.display = 'block';
      renderUnlocked();
    } else {
      locked.style.display = 'block';
      unlocked.style.display = 'none';
    }
  });
  </script>
</body>
</html>

